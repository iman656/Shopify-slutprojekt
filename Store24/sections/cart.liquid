<div class="cart-page">

  <h1>Cart</h1>
  {% form 'cart', cart %}
    <section class="cart-sec">
      <table class="cart-table">
        <thead>
          <tr>
            <th>Product</th>
            <th>Title</th>
            <th>Unit Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Remove</th>
          </tr>
        </thead>
        <tbody>
          {% if cart.empty? %}
            <tr>
              <td colspan="6" class="empty-cart">Cart is empty</td>
            </tr>
          {% else %}
            {% for item in cart.items %}
              <tr class="cart-item">
                <td><img src="{{ item.image | image_url }}" width="50" height="50" loading="lazy" alt="{{ item.title }}"></td>
                <td>{{ item.title }}</td>
                <td>{{ item.final_line_price | money }}</td>
                <td><input name="updates[]" value="{{ item.quantity }}" class="cart-quantity"></td>
                <td>{{ item.line_price | money }}</td>
                <td class="removecart"><a href="{{ item.url_to_remove }}"><i class="fa-regular fa-trash-can"></i></a></td>
              </tr>
            {% endfor %}
            <tr>
              <td colspan="4"></td>
              <td>Total: {{ cart.total_price | money }}</td>
              <td><button type="submit" name="update">Update</button></td>
            </tr>
          {% endif %}
        </tbody>
      </table>
      <button type="submit" name="checkout">Checkout</button>
    </section>
  {% endform %}
</div>

<style>
  /* Base Styles */
  .cart-page {
    height: 100vh;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }

  .cart-sec {
    background-color: #ffffff;
    color: #fff; /* Light text */
    padding: 20px; /* Add padding for readability */
    border-radius: 10px; /* Rounded corners */
    width: 80vw;
    overflow-x: auto; /* Enable horizontal scrolling on smaller screens */
  }

  .cart-table {
    width: 100%;
    border-collapse: collapse;
  }

  .cart-table th,
  .cart-table td {
    padding: 10px;
    text-align: center;
    border-bottom: 1px solid #555; /* Darker border */
  }

  .cart-table th:first-child,
  .cart-table td:first-child {
    text-align: left;
  }

  .cart-table img {
    max-width: 50px;
    max-height: 50px;
  }

  .cart-quantity {
    width: 50px;
    height: 30px;
    background-color: #555; /* Darker background */
    color: #fff; /* Light text */
    border: none;
    border-radius: 5px;
    padding: 5px;
    text-align: center;
  }

  .cart-quantity:focus {
    outline: none; /* Remove focus outline */
  }
  .removecart i{
    color: #555555;
  }

  /* Buttons */
  button[type="submit"] {
    background-color: #1e88e5; /* Blue accent color */
    color: #fff; /* Light text */
    border: none;
    padding: 10px 20px;
    margin-top: 10px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s ease;
  }

  button[type="submit"]:hover {
    background-color: #005cb2; /* Darker blue on hover */
  }

  /* Checkout button */
  button[type="submit"][name="checkout"] {
    background-color: #28a745; /* Green color for checkout */
  }

  button[type="submit"][name="checkout"]:hover {
    background-color: #218838; /* Darker green on hover */
  }

  /* Responsive Styles */
  @media only screen and (max-width: 767px) {
    .cart-quantity {
      width: 30px;
      height: 30px;
    }
  }
</style>

{% schema %}
{
  "name": "cart",
  "settings": [
    {
      "type": "color",
      "id": "background",
      "label": "Background",
      "default": "#F4F4F4"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#000000"
    }
  ],
  "presets": [
    {
      "name": "cart"
    }
  ]
}
{% endschema %}
